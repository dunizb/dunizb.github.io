<!DOCTYPE html>
<html >
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=http://dunizb.com/browseupdate/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Dunizb" />



<meta name="description" content="本文教你如何写一个移动端的 Checklist 组件，使用 vue 单文件形式开发，适合 Vue.js 新手。同时此文非常长，最好跟着文章步骤边看边写。本文说些什么，或者你能收获什么？。">
<meta name="keywords" content="Vue.js,手把手教程,移动Web">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue.js新手教学|如何写一个Checklist组件">
<meta property="og:url" content="http://dunizb.com/2017/11/18/Vue-checklist-components/index.html">
<meta property="og:site_name" content="Dunizb，张兵的个人技术博客">
<meta property="og:description" content="本文教你如何写一个移动端的 Checklist 组件，使用 vue 单文件形式开发，适合 Vue.js 新手。同时此文非常长，最好跟着文章步骤边看边写。本文说些什么，或者你能收获什么？。">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/banner.jpg">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/weui.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/mint-ui.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/jdcart.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/1.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/2.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/3.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/4.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/5.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/6.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/7.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/8.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/9.1.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/9.png">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/list-overflow.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/list-chexkbox.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/list-chexkbox-seclected.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist-show.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist-hide.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist-mengceng.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/emit.gif">
<meta property="og:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/10.png">
<meta property="og:updated_time" content="2017-11-30T04:12:11.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vue.js新手教学|如何写一个Checklist组件">
<meta name="twitter:description" content="本文教你如何写一个移动端的 Checklist 组件，使用 vue 单文件形式开发，适合 Vue.js 新手。同时此文非常长，最好跟着文章步骤边看边写。本文说些什么，或者你能收获什么？。">
<meta name="twitter:image" content="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/banner.jpg">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Dunizb，张兵的个人技术博客" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.ico">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Vue.js新手教学|如何写一个Checklist组件 | Dunizb，张兵的个人技术博客</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: false
    }
</script>


    <script>
        yiliaConfig.jquery_ui = [true, "//cdn.bootcss.com/jqueryui/1.10.4/jquery-ui.min.js", "//cdn.bootcss.com/jqueryui/1.10.4/css/jquery-ui.min.css"];
    </script>



    <script> yiliaConfig.rootUrl = "\/";</script>





    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?c3fe634c87e2fcd6a310e2dff4e99e92";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.gif" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Dunizb</a></h1>
        </hgroup>

        
        <p class="header-subtitle">这世间唯有梦想和好姑娘不可辜负</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="//store.dunizb.com/">商店</a></li>
                        
                            <li><a href="//demo.dunizb.com/">Demo</a></li>
                        
                            <li><a href="/categories/前端开发/">大前端</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" href="//github.com/dunizb" title="GitHub"></a>
                            
                                <a class="fa 简书" href="//www.jianshu.com/u/737d8047278d" title="简书"></a>
                            
                                <a class="fa SegmentFault" href="//segmentfault.com/u/dunizb" title="SegmentFault"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FileZill/">FileZill</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hibernate/">Hibernate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis/">Mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SublimeText/">SublimeText</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-js/">Vue.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/">Windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ftp/">ftp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javase/">javase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javaweb/">javaweb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdbc/">jdbc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jquery/">jquery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/less/">less</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/struts/">struts</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/">this</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人工智能/">人工智能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/全栈/">全栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/响应式/">响应式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/备忘/">备忘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储过程/">存储过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/学习笔记/">学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小技巧/">小技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小知识/">小知识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具使用/">工具使用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能优化/">性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/手把手教程/">手把手教程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件上传/">文件上传</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/方法论/">方法论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活/">生活</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/用户体验/">用户体验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动Web/">移动Web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/程序设计/">程序设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/系统设计/">系统设计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/组件使用/">组件使用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/规范/">规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读书笔记/">读书笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件工程/">软件工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/集合/">集合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面向对象编程/">面向对象编程</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Dunizb</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.gif" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Dunizb</a></h1>
            </hgroup>
            
            <p class="header-subtitle">这世间唯有梦想和好姑娘不可辜负</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="//store.dunizb.com/">商店</a></li>
                
                    <li><a href="//demo.dunizb.com/">Demo</a></li>
                
                    <li><a href="/categories/前端开发/">大前端</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa GitHub" target="_blank" href="//github.com/dunizb" title="GitHub"></a>
                            
                                <a class="fa 简书" target="_blank" href="//www.jianshu.com/u/737d8047278d" title="简书"></a>
                            
                                <a class="fa SegmentFault" target="_blank" href="//segmentfault.com/u/dunizb" title="SegmentFault"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-Vue-checklist-components" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/11/18/Vue-checklist-components/" class="article-date">
      <time datetime="2017-11-18T15:06:45.000Z" itemprop="datePublished">2017-11-18</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Vue.js新手教学|如何写一个Checklist组件
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js/">Vue.js</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/手把手教程/">手把手教程</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/移动Web/">移动Web</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><img src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/banner.jpg" alt=""></p>
<p><strong>建议在电脑上阅读此文，全部源代码在文章最后</strong></p>
<p><strong>2017.11.30更新：本案例有了更优雅更简单的实现方案了，具体请看文末源码里的checklist2.0.vue文件，可以比较看一下两种实现方式</strong></p>
<p>本文教你如何写一个移动端的 Checklist 组件，使用 vue 单文件形式开发，适合 Vue.js 新手。同时此文非常长，最好跟着文章步骤边看边写。本文说些什么，或者你能收获什么？。</p>
<ol>
<li>一步步从0开始有节奏的编写 Checklist 组件</li>
<li>在编码过程中进行功能分析</li>
<li>涉及一些移动端适配的问题</li>
<li>Vue.js组件方面的一些知识</li>
</ol>
<h2 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h2><p>阅读此文前您最好有以下知识的基础：</p>
<ol>
<li>对 Vue.js 的<code>.vue</code>单文件和 Vue.js 组件知识有基本的认识</li>
<li>CSS 的 Flexbox 布局知识。</li>
</ol>
<h2 id="什么是Checklist"><a href="#什么是Checklist" class="headerlink" title="什么是Checklist"></a>什么是Checklist</h2><p>什么是Checklist组件？我们先来看一下市面上已经有的UI框架的Checklist长什么样</p>
<table>
<thead>
<tr>
<th style="text-align:left">weui</th>
<th style="text-align:left">Mint UI</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/weui.gif" alt="weui"></td>
<td style="text-align:left"><img src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/mint-ui.gif" alt="Mint-UI"></td>
</tr>
</tbody>
</table>
<p>而这种组件的一个典型场景是移动端的购物车列表，打开你的京东、淘宝购物车看看，功能是不是很像呢？</p>
<p>本文写一个什么样的 Checklist 组件？这个组件来自于我司真实项目，刚开始我也是用的 Mint-UI 来做，后来业务升级需求变更 Mint-UI 就不适合了，于是我就自己撸了一个，特整理出来此文，并且我们尽量把他做的通用、灵活一点。我们的 Checklist 如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left">我们的</th>
<th style="text-align:left">京东购物车列表</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><img src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist.gif" alt="我们的"></td>
<td style="text-align:left"><div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/jdcart.png"></div></td>
</tr>
</tbody>
</table>
<h2 id="第零步：分析与准备"><a href="#第零步：分析与准备" class="headerlink" title="第零步：分析与准备"></a>第零步：分析与准备</h2><h3 id="0-1-业务需求和功能分析"><a href="#0-1-业务需求和功能分析" class="headerlink" title="0.1 业务需求和功能分析"></a>0.1 业务需求和功能分析</h3><p>在动手撸代码之前，我们先来仔细分析一下业务需求和功能点，这个组件是展示考场和考场地址，考场地址没有就不显示，最多选三个，选了三个后其他的要禁用等，数据是根据考试科目和所在城市动态获取，当列表数据很多我们还得给它一个最大高度让列表可滚动等，从图中得出以下功能点：</p>
<ol>
<li>显示隐藏和过渡动画</li>
<li>列表的地址一行可有可无，行高自适应</li>
<li>选中状态和禁用状态</li>
<li>选择了几个和最多选几个的提示文字（我们叫他<strong>操作提示栏</strong>吧，为了方便后面都这么叫），为了通用性，最多选几个应该做成可配置选项</li>
<li>列表可滚动以及列表最大高度，最大高度也可以做成可配置项</li>
<li>头部bar，标题、取消、确定应该也是可有可无，可做成可配置项</li>
<li>选中的项的值应该是一个数组</li>
<li>选中后点击完成按钮应该把选中的值发送给父组件</li>
<li>checkbox选框可以在左边也可以在右边</li>
</ol>
<p>等等….</p>
<h3 id="0-2-规划API"><a href="#0-2-规划API" class="headerlink" title="0.2 规划API"></a>0.2 规划API</h3><p>一个Vue组件的 API 只来自 props、events 和 slots，确定好这 3 部分的命名、规则，剩下的逻辑即使第一版没做好，后续也可以迭代完善。但是 API 如果没有设计好，后续再改对使用者成本就很大了。</p>
<p>根据以上功能分析可以初步得如下出一些 API，我们可以先把各个 API 先写到组件中（此部分内容属于新增，本文并没有先把 API 写到组件中，Props 的<code>maxHeight</code> 本文也没有实现，你们可以自己考虑实现以下）</p>
<p><strong>Props</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">属性名</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">是否必须</th>
<th style="text-align:left">默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">max</td>
<td style="text-align:left">最多选择几项</td>
<td style="text-align:left">Number</td>
<td style="text-align:left">是</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">dataList</td>
<td style="text-align:left">数据</td>
<td style="text-align:left">Array</td>
<td style="text-align:left">是</td>
<td style="text-align:left">[]</td>
</tr>
<tr>
<td style="text-align:left">maxHeight</td>
<td style="text-align:left">控件最大高度</td>
<td style="text-align:left">Number</td>
<td style="text-align:left">否</td>
<td style="text-align:left">300(px)</td>
</tr>
<tr>
<td style="text-align:left">checkboxLeft</td>
<td style="text-align:left">选框是否在左边</td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">否</td>
<td style="text-align:left">false</td>
</tr>
</tbody>
</table>
<p><strong>Events</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">事件名</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">参数/返回值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">on-change</td>
<td style="text-align:left">点击确定之后触发的事件</td>
<td style="text-align:left">Object</td>
</tr>
</tbody>
</table>
<p><strong>Methods</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">方法名</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">show</td>
<td style="text-align:left">显示组件</td>
</tr>
<tr>
<td style="text-align:left">hide</td>
<td style="text-align:left">隐藏组件</td>
</tr>
</tbody>
</table>
<h3 id="0-3-初始化项目"><a href="#0-3-初始化项目" class="headerlink" title="0.3 初始化项目"></a>0.3 初始化项目</h3><p>再来分析一下 DOM 结构该怎么划分，这样有利于编码时的大局观  </p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/1.png"></div>

<p>画的有点丑，手头没有什么好用的图片标注工具，用的 Mac 原生标注工具</p>
<p>经过上面的的分析，我们就知道这个组件要做些什么了，接下来我们就开始撸代码，首先我们先把组件基本外观和架子做出来。</p>
<p>首先，我们新建一个checklist.vue文件：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-checklist"</span>&gt;</span></div><div class="line">      checklist</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>为了便于开发时测试和观察，我们还得建一个demo.vue文件，在demo.vue中引入我们的checklist.vue组件：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-div"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>checklist demo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"请选择考场"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">checklist</span>&gt;</span><span class="tag">&lt;/<span class="name">checklist</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">  import checklist from '@components/checklist/checklist'</div><div class="line">  export default &#123;</div><div class="line">    components: &#123;</div><div class="line">      checklist</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line">  .center&#123;</div><div class="line">    text-align: center;</div><div class="line">    font-size: 18px;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h2 id="第一步：实现组件骨架和基础结构"><a href="#第一步：实现组件骨架和基础结构" class="headerlink" title="第一步：实现组件骨架和基础结构"></a>第一步：实现组件骨架和基础结构</h2><h3 id="1-1-实现基本骨架"><a href="#1-1-实现基本骨架" class="headerlink" title="1.1 实现基本骨架"></a>1.1 实现基本骨架</h3><p>我们先把基本模块写出来，用背景颜色区分一下，写完后再把背景颜色去掉，我日常写页面都是这样，这样可以清晰的看到模块边界在哪里。<br>checklist.vue<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-checklist"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"desc"</span>&gt;</span>您已选中0个，最多可选3个<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line">  .topbar&#123;</div><div class="line">    height: 30px;</div><div class="line">    background-color: #d0000e;</div><div class="line">  &#125;</div><div class="line">  .desc&#123;</div><div class="line">    padding: 10px 15px 0 0;</div><div class="line">    font-size: 14px;</div><div class="line">    text-align: right;</div><div class="line">    color: #fff;</div><div class="line">    background-color: #0d2e44;</div><div class="line">  &#125;</div><div class="line">  .list&#123;</div><div class="line">    height: 300px;</div><div class="line">    background-color: #00b4ff;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/2.png"></div>

<h3 id="1-2-实现topbar"><a href="#1-2-实现topbar" class="headerlink" title="1.2 实现topbar"></a>1.2 实现topbar</h3><div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/3.png"></div>

<p>topbar有三个元素，如何选择布局方式呢？可以看出，取消、完成按钮是左右对齐，中间title是居中对齐的。我们可以选择传统的浮动布局，使用三个div，比如叫：  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>选择考场<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"confirm"</span>&gt;</span>确定<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这样需要给div宽度，给取消、确定左右对齐，title居中对齐。<strong>NO！NO！NO！</strong>太麻烦了！我们使用<strong>Flexbox</strong>布局，后面我都将使用Flexbox布局。来看看Flexbox如何轻松解决这个布局。</p>
<p>HTML：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>选择考场<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"confirm"</span>&gt;</span>完成<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>CSS：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.topbar</span>&#123;</div><div class="line">    <span class="attribute">display</span>: -webkit-flex;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">justify-content</span>: space-between;</div><div class="line">    <span class="attribute">align-items</span>: center;</div><div class="line">    <span class="attribute">height</span>: <span class="number">45px</span>;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">13px</span>;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(217,217,217);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.topbar</span> <span class="selector-class">.cancel</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(159,159,159);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.topbar</span> <span class="selector-class">.confirm</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(46,166,242);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>我们使用<code>justify-content: space-between</code>让他们水平两端对齐，然后<code>align-items: center</code>垂直居中对齐，再给个左右<code>padding</code>即可。效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/4.png"></div>

<p>我在项目中用的是<code>display:inline-block</code>来布局，做的没现在的好，这种事后用文章的形式来复盘和输出能够让自己更清楚的认识怎么更好的去组织代码，这也是我坚持输出的原因。</p>
<h3 id="1-3-实现操作提示栏"><a href="#1-3-实现操作提示栏" class="headerlink" title="1.3 实现操作提示栏"></a>1.3 实现操作提示栏</h3><p>这个比较简单，在这个部分直接一起给撸了吧。<br>HTML<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-checklist"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"cancel"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>选择考场<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"confirm"</span>&gt;</span>完成<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"desc"</span>&gt;</span>您已选中0个，最多可选3个<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>CSS<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.desc</span>&#123;</div><div class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</div><div class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</div><div class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</div><div class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</div><div class="line">  <span class="attribute">text-align</span>: right;</div><div class="line">  <span class="attribute">color</span>: <span class="built_in">rgb</span>(159,159,159);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/5.png"></div>

<h2 id="第二步：实现list列表结构"><a href="#第二步：实现list列表结构" class="headerlink" title="第二步：实现list列表结构"></a>第二步：实现list列表结构</h2><h3 id="2-1-实现基本骨架"><a href="#2-1-实现基本骨架" class="headerlink" title="2.1 实现基本骨架"></a>2.1 实现基本骨架</h3><p>我们先来回顾以下第零部多DOM结构的分析：</p>
<div align="center"><img width="640" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/6.png"></div>

<p>可以看到我们把DOM结构总体划分为左右结构，然后左边的又分为上下结构，左边的checkbox水平垂直居中</p>
<p>我们先把结构基本勾勒出来<br>HTML：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">--</span>  省略上面的代码 <span class="attr">--</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">--</span>  省略下面的代码 <span class="attr">--</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>CSS：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.list</span>&#123;</div><div class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">13px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#00b4ff</span>;</div><div class="line">  &#125;</div><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span> &#123;</div><div class="line">    <span class="attribute">display</span>: -webkit-flex;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">justify-content</span>: center;</div><div class="line">    <span class="attribute">align-items</span>: center;</div><div class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#4caf50</span>;</div><div class="line">  &#125;</div><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span> <span class="selector-class">.l</span>&#123;</div><div class="line">    <span class="attribute">display</span>: -webkit-flex;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">flex-direction</span>: column;</div><div class="line">    <span class="attribute">justify-content</span>: center;</div><div class="line">    <span class="attribute">align-items</span>: flex-start;</div><div class="line">    <span class="attribute">width</span>: <span class="number">90%</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#d0000e</span>;</div><div class="line">  &#125;</div><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span> <span class="selector-class">.r</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#0d2e44</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/7.png"></div>

<p>接下来就是完善了，以及右边的checkbox圆圈。<strong>注意</strong>，我们不能给<code>.line</code>设死高度，这个高度应该由内容撑开，因为我们要考虑没有地址信息的时候的展示。</p>
<h3 id="2-2-实现checkbox选框"><a href="#2-2-实现checkbox选框" class="headerlink" title="2.2 实现checkbox选框"></a>2.2 实现checkbox选框</h3><p>为了方便展示选中状态，我们复制一行<code>.line</code>，设置这一行为选中状态，也就是加一个<code>.selected</code>的class，然后我们对<code>.selected</code>写选中状态的样式<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line selected"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>我们继续CSS：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span> <span class="selector-class">.r</span>&#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</div><div class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">5px</span>;</div><div class="line">    <span class="attribute">-webkit-border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">    <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#9e9e9e</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">    <span class="attribute">z-index</span>: <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line"> <span class="selector-class">.list</span> <span class="selector-class">.line</span><span class="selector-class">.selected</span> <span class="selector-class">.l</span> <span class="selector-class">.title</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#1799fa</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.list</span> <span class="selector-class">.line</span><span class="selector-class">.selected</span> <span class="selector-class">.r</span>&#123;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#1799fa</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#1799fa</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.list</span> <span class="selector-class">.line</span><span class="selector-class">.selected</span> <span class="selector-class">.r</span><span class="selector-pseudo">::before</span>&#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: <span class="number">4px</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">4px</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</div><div class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAPCAYAAAALWoRrAAAA90lEQVQ4ja3TMSuFURgH8GeQRGIwy6BkUbIYlHwBu0Umi8VkMVlMJoMvIcNdDAYlJuULWCSESBSLwc9we/P2eu715t6nznKe//Or0zknEF1YS3jAHRa7Aa7iy0/ddAquVUC47ARcT8APLPwX3PC73jGPCPRiGSvoqwFuJuAb5opMoFFqnmCwDbiVgK+YLecCn5XQGYYScDsBXzBTzQb2k/A5hkvBnSTzhOnsRIEBHCdDFxjBbtJ7xFQGFmigH0fJ8HOyd4/JVmAZDc2bP0yQct1ioh1YRYvn1cg0XGP8LzBDC/igAl5hrA7YCg30YE/zl5xitC6I+AYJmBaJbbKurAAAAABJRU5ErkJggg=="</span>);</div><div class="line">    <span class="attribute">background-repeat</span>: no-repeat;</div><div class="line">    <span class="attribute">background-size</span>: contain;</div><div class="line">    <span class="attribute">background-position</span>: center center;</div><div class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这里为了不依赖图片，我们把勾的图片编码成base64格式，同时我们先把背景去掉，效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/8.png"></div>

<h3 id="2-3-地址信息前面的小图标"><a href="#2-3-地址信息前面的小图标" class="headerlink" title="2.3 地址信息前面的小图标"></a>2.3 地址信息前面的小图标</h3><p>这个小图标最好使用伪元素来实现<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span> <span class="selector-class">.l</span> <span class="selector-class">.address</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(159,159,159);</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">    <span class="attribute">padding-left</span>: <span class="number">15px</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="selector-class">.list</span> <span class="selector-class">.line</span> <span class="selector-class">.l</span> <span class="selector-class">.address</span><span class="selector-pseudo">::before</span>&#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">width</span>: <span class="number">15px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">15px</span>;</div><div class="line">    <span class="attribute">top</span>: <span class="number">2px</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAABu0lEQVRIiaXUzU8TQRjH8U9fpAkXIZqItHghxEgietuD/gP84R420QSDcCDxIq6KaCoJYCuaeJhdu93OlILfpEnnmWd++7zMM63d3V0RuljHQ9xFr7SP8QNfUOBPlmUzB5tsYBtLkb0eHpS/JzjEcd2hs7W1Vf1v4TkeoxMLu0EHa0VRLBdFcTIYDEC75vCsjO6mbGCnWlSCg1uKVTzK83xAqGFHqFmMX3iP7+X6HjbF67ud5/nnLvomXaxziVcY1WxDfMQLLDf8e+i3sZaIbq8hVjHC28SZtTZWIhs/TdKM8S3xsZW2eLrjOWIVMcFeO2Ik1Kc1R6xltoYI1+Y8Yl8Sxi7Funinz9s4SRzaEa/vKp4mzpx0hSHfjGzewUt8EpoA98voUuUoujgT7tdqxKEl3NN+QqDOMMuys6opRwscuI4jJrP8VYjytgxLjanX5uA/BA+qh7YuOBQadFOKLMv+Zde82Ae4uoHYlUZmTcGx8KwvymGWZVNjGhu9DzhdQOy09J0iNct75qd+VfrMkBIcYX+O4L74a5MUJHT8OGI/Nuc2zBOEd7iorS9KW5LrBH/jjZDeCK9LW5K/QatiGcsSFOsAAAAASUVORK5CYII="</span>);</div><div class="line">    <span class="attribute">background-repeat</span>: no-repeat;</div><div class="line">    <span class="attribute">background-size</span>: contain;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/9.1.png"></div>

<h3 id="2-4-适配移动端1像素边框"><a href="#2-4-适配移动端1像素边框" class="headerlink" title="2.4 适配移动端1像素边框"></a>2.4 适配移动端1像素边框</h3><p>实现适配移动端1px边框，主要是根据设备的dpr来对边框进行缩放处理，CSS写法如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.border-1px</span>&#123;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.border-1px</span><span class="selector-pseudo">::after</span>&#123;</div><div class="line">    <span class="attribute">display</span>: block;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(217,217,217);</div><div class="line">    <span class="attribute">content</span>: <span class="string">' '</span>;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (-webkit-min-device-pixel-ratio: <span class="number">1.5</span>), (min-device-pixel-ratio: <span class="number">1.5</span>) &#123;</div><div class="line">    <span class="selector-class">.border-1px</span><span class="selector-pseudo">::after</span> &#123;</div><div class="line">      <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleY</span>(0.7);</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(0.7);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (-webkit-min-device-pixel-ratio: <span class="number">2</span>), (min-device-pixel-ratio: <span class="number">2</span>) &#123;</div><div class="line">    <span class="selector-class">.border-1px</span><span class="selector-pseudo">::after</span> &#123;</div><div class="line">      <span class="attribute">-webkit-transform</span>: <span class="built_in">scaleY</span>(0.5);</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(0.5);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>然后我们在需要的地方设置<code>.border-1px</code>的样式<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line border-1px selected"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>我们在每一行的<code>.line</code>元素上添加<code>border-1px</code>，效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/9.png"></div>

<p>更多移动端1像素边框问题可以参看<a href="http://www.qinshenxue.com/article/20151104151932.html" target="_blank" rel="external">《移动端1像素边框问题》</a></p>
<h3 id="2-5-列表滚动"><a href="#2-5-列表滚动" class="headerlink" title="2.5 列表滚动"></a>2.5 列表滚动</h3><p>实现滚动很简单，只要给父级元素也就是我们代码中的<code>.list</code>元素设置一个高度，在这里我们的数据多少不一定，所以我们最好只设置一个最大高度<code>max-height</code>即可，同时需要给最外层DIV也就是<code>.cl-checklist</code>设置<code>overflow:hidden</code>。我们先复制很多行来进行测试。<br>CSS：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.cl-checklist</span>&#123;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.list</span>&#123;</div><div class="line">    <span class="comment">/*height: 300px;*/</span></div><div class="line">    <span class="attribute">max-height</span>: <span class="number">300px</span>;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</div><div class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">13px</span>;</div><div class="line">    <span class="attribute">overflow-y</span>: auto;</div><div class="line">    <span class="attribute">-webkit-overflow-scrolling</span>: touch; </div><div class="line">    <span class="attribute">overflow-scrolling</span>: touch;</div><div class="line">    <span class="comment">/*background-color: #00A2E6;*/</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>注意<code>overflow-scrolling: touch;</code>属性，设置该属性是为了适配在移动端下滚动不平滑的问题，现在的效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/list-overflow.gif"></div>

<h2 id="第三步：实现选择CheckBox的交互功能"><a href="#第三步：实现选择CheckBox的交互功能" class="headerlink" title="第三步：实现选择CheckBox的交互功能"></a>第三步：实现选择CheckBox的交互功能</h2><h3 id="3-1-实现原理与v-model"><a href="#3-1-实现原理与v-model" class="headerlink" title="3.1 实现原理与v-model"></a>3.1 实现原理与v-model</h3><p>这一步是整个组件的一个核心也是重点难点，这一步写的好、写的巧就会对后面的逻辑交互简化很多。我们借助HTML的原生功能特性来实现：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"xxx"</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"xxx"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>这个标签组合可以实现点击<code>&lt;label&gt;</code>包裹起来的范围的时候触发<code>checkbox</code>，根据这个原理我们改造一下HTML代码<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"desc"</span>&gt;</span>您已选中 <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;checkboxValue.length&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> 个，最多可选<span class="tag">&lt;<span class="name">span</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span>个<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line-wrapper"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"1"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"1"</span> <span class="attr">v-model</span>=<span class="string">"checkboxValue"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line-wrapper"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"2"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"2"</span> <span class="attr">v-model</span>=<span class="string">"checkboxValue"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">value</span>=<span class="string">"2"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line-wrapper"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"3"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"3"</span> <span class="attr">v-model</span>=<span class="string">"checkboxValue"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">value</span>=<span class="string">"3"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>主要是把<code>div.line</code>的元素变成<code>&lt;label&gt;</code>元素，然后在外面再包裹一个<code>div.line-wrapper</code>，在<code>&lt;label&gt;</code>后面加一个checkbox标签。同时让checkbox不可见我们可以给checkbox设置<code>display:none</code>或者给外围的<code>div.line-wrapper</code>设置<code>overflow:hidden</code>都可以，这里我使用<code>display:none</code>。</p>
<p>Vue.js 提供了 v-model 指令，用于在表单类元素上双向绑定数据，例如在输入框上使用时，输入的内容会实时映射到绑定的数据上。单选按钮在单独使用时不需要 v-model ，直接使用 v-bind 绑定一个布尔类型的值，为真时选中，为否时不选中，如果是组合使用来实现互斥效果时就需要 v-model 配合 value 来使用。</p>
<p>这里给checkbox用 v-model 指令绑定了一个<code>checkboxValue</code>，这个值必须是一个数组，然后Vue.js 会帮我们自动每次变更数组：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    data () &#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">checkboxValue</span>: []</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在操作提示栏里我们给当前选择了几个设置成了<code>checkboxValue</code>的长度，这样之后我们来试试，可以发现每次选择一个都会往数组中push一次，再次点击则会从数组中移除。效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/list-chexkbox.gif"></div>

<h3 id="3-2-加个选中样式"><a href="#3-2-加个选中样式" class="headerlink" title="3.2 加个选中样式"></a>3.2 加个选中样式</h3><p>现在是可以选中了，但是如何给选中的项加上选中的CSS呢，想来想去也是个麻烦事，不过得借助JS来实现了，不知道广大网友有没有牛逼方法。</p>
<p>我们在checkbox标签上绑定一个事件<code>selectedItem</code>：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line-wrapper"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"1"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>科目二第07考点马路<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span>&gt;</span>上海市宝山区保安公路2009号<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"1"</span> @<span class="attr">click</span>=<span class="string">"selectedItem($event)"</span> <span class="attr">v-model</span>=<span class="string">"checkboxValue"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">```    </div><div class="line">```js</div><div class="line">methods: &#123;</div><div class="line">     selectedItem (event) &#123;</div><div class="line">        const labelNode = event.target.previousElementSibling</div><div class="line">        const classList = labelNode.classList</div><div class="line">        classList.contains('selected') ? classList.remove('selected') : classList.add('selected')</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>点击的时候获取Event事件对象，然后通过<code>previousElementSibling</code>找到上一个兄弟节点，给他绑定<code>.selected</code>class即可</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/list-chexkbox-seclected.gif"></div>

<h3 id="3-3-最多可选择几项"><a href="#3-3-最多可选择几项" class="headerlink" title="3.3 最多可选择几项"></a>3.3 最多可选择几项</h3><h4 id="3-3-1-使用-props-传递数据"><a href="#3-3-1-使用-props-传递数据" class="headerlink" title="3.3.1 使用 props 传递数据"></a>3.3.1 使用 props 传递数据</h4><p>用户是可以设置最多选择几项的，于是 Vue.js 的 Props 功能派上用场了。在 Vue.js 组件中，使用选项 Props 来声明需要从父级接收的数据，props 的值可以是两种，一种是字符串，一种是对象，这里我们使用对象，一个<code>Number</code>对象。</p>
<p>先定义 props<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">props: &#123;</div><div class="line">   <span class="attr">max</span>: &#123;</div><div class="line">       <span class="attr">type</span>: <span class="built_in">Number</span>,</div><div class="line">       <span class="attr">default</span>: <span class="number">0</span></div><div class="line">    &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></p>
<p>我们定义了一个max属性，它的类型是<code>Number</code>类型，默认值是 0 。然后我们把<code>max</code>加到操作提示中<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"desc"</span>&gt;</span>您已选中 <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;checkboxValue.length&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> 个，最多可选<span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;max&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>个<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>然后我们就可以给组件传递<code>max</code>属性了，现在转到demo.vue文件：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-div"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>checklist demo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"请选择考场"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">checklist</span> <span class="attr">:max</span>=<span class="string">"2"</span>&gt;</span><span class="tag">&lt;/<span class="name">checklist</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>我们给<code>max</code>设置为2，也就是最多选择2个。</p>
<h4 id="3-3-2-Watch选项、-refs的使用"><a href="#3-3-2-Watch选项、-refs的使用" class="headerlink" title="3.3.2 Watch选项、$refs的使用"></a>3.3.2 Watch选项、$refs的使用</h4><p>当我们选择了两个的时候其他的选择项就应该灰掉（禁用），那么就要监控 data 选项里的<code>checkboxValue</code>的长度了，这时候我们需要用到Vue.js的 watch 选项，watch 是一个对象，键是需要观察的表达式，值是对应回调函数。值也可以是方法名，或者包含选项的对象。Vue 实例将会在实例化时调用<code>$watch()</code>，遍历 watch 对象的每一个属性。</p>
<blockquote>
<p><strong>注意</strong>，不应该使用箭头函数来定义 watcher 函数 (例如<code>searchQuery: newValue =&gt; this.updateAutocomplete(newValue))</code>。理由是箭头函数绑定了父级作用域的上下文，所以 this 将不会按照期望指向 Vue 实例，<code>this.updateAutocomplete</code> 将是 <code>undefined</code>。</p>
</blockquote>
<p>我们通过监听 data 选项里的<code>checkboxValue</code>，来判断它的长度，如果它的长度刚好已经和设置的<code>max</code>属性相等了，就给其他添加<code>.disabled</code>这个class，同事给<code>input checkbox</code>添加<code>disabled</code>属性。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">watch: &#123;</div><div class="line">   checkboxValue (val) &#123;</div><div class="line">      <span class="keyword">const</span> listDom = <span class="keyword">this</span>.$refs[<span class="string">'list'</span>]</div><div class="line">      <span class="keyword">const</span> lines = listDom.querySelectorAll(<span class="string">'line-wrapper'</span>)</div><div class="line">      <span class="keyword">if</span> (val.length === <span class="keyword">this</span>.max) &#123;</div><div class="line">        <span class="keyword">let</span> item = <span class="literal">null</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; lines.length; i++) &#123;</div><div class="line">          item =lines[i]</div><div class="line">          <span class="keyword">if</span> (val.indexOf(lines[i].dataset.val) === <span class="number">-1</span>) &#123;</div><div class="line">            item.children[<span class="number">0</span>].classList.add(<span class="string">'disabled'</span>)</div><div class="line">            item.querySelector(<span class="string">'input[type="checkbox"]'</span>).setAttribute(<span class="string">'disabled'</span>, <span class="string">'disabled'</span>)</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">   &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">let</span> item = <span class="literal">null</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;lines.length; i++) &#123;</div><div class="line">          item =lines[i]</div><div class="line">          <span class="keyword">if</span> (item.children[<span class="number">0</span>].classList.contains(<span class="string">'disabled'</span>)) &#123;</div><div class="line">            item.children[<span class="number">0</span>].classList.remove(<span class="string">'disabled'</span>)</div><div class="line">            item.querySelector(<span class="string">'input[type="checkbox"]'</span>).removeAttribute(<span class="string">'disabled'</span>)</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这个需要配合Vue.js 的 <code>$refs</code>来做，在HTML中的<code>.list</code>节点上设置<code>ref = &#39;list&#39;</code>，也就是为了方便选择这个DOM节点，当然你用传统的<code>document.querySelector</code>来选择<code>.list</code>节点也是没问题的。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span> <span class="attr">ref</span>=<span class="string">"list"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>上面代码的第9行，判断是否当前DOM是否在选中的数组中，拿的是<code>checkboxValue</code>的数组项和一个自定义属性值比较，这个自定义属性叫<code>data-val</code>，他的值跟<code>input checkbox</code>的 value 值保持一致，这个<code>val</code>自定义属性设置在<code>.list-wrapper</code>节点上是为了方便DOM查找，减少DOM查找层数，不然就需要获取<code>input checkbox</code>的 value 值来比较。</p>
<p>设置<code>.disabled</code>的CSS如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span><span class="selector-class">.disabled</span> <span class="selector-class">.l</span> <span class="selector-class">.title</span>&#123;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#9e9e9e</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span><span class="selector-class">.disabled</span> <span class="selector-class">.r</span>&#123;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#9e9e9e</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#9e9e9e</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="第四步：组件显示隐藏"><a href="#第四步：组件显示隐藏" class="headerlink" title="第四步：组件显示隐藏"></a>第四步：组件显示隐藏</h2><h3 id="4-1-显示组件"><a href="#4-1-显示组件" class="headerlink" title="4.1 显示组件"></a>4.1 显示组件</h3><p>这一步我们要做一下的组件的显示与隐藏，点击输入框从页面底部显示组件，点击取消或者蒙层从上到下隐藏组件，并且添加过渡动画。这其实使用定位和CSS3的<code>transform</code>属性即可实现。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.cl-checklist</span>&#123;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">    <span class="attribute">position</span>: fixed;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">-webkit-transition</span>: all .<span class="number">5s</span>;</div><div class="line">    <span class="attribute">transition</span>: all .<span class="number">5s</span>;</div><div class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translateY</span>(100%);</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(100%);</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.cl-checklist</span><span class="selector-class">.show</span>&#123;</div><div class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translateY</span>(0%);</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(0%);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>我们还得为组件弄一个是否显示和隐藏的属性<code>isOpen</code>，默认为<code>false</code>不显示，用它来控制给组件动态添加显示和隐藏的<code>.cl-checklist.show</code>类。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-checklist"</span> <span class="attr">:class</span>=<span class="string">"&#123;'show': isOpen&#125;"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>那在demo.vue中如何调用这个属性呢？这时候我们就不得不考虑对外提供方法了，我们可以定义一个显示和隐藏的方法来供使用者调用。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">methods: &#123;</div><div class="line">   show () &#123;</div><div class="line">      <span class="keyword">this</span>.isOpen = <span class="literal">true</span></div><div class="line">   &#125;,</div><div class="line">   hide () &#123;</div><div class="line">      <span class="keyword">this</span>.isOpen = <span class="literal">false</span></div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在demo.vue中，为输入框添加事件，然后调用组件的 show 方法<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-div"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>checklist demo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">focus</span>=<span class="string">"openChecklist"</span> <span class="attr">placeholder</span>=<span class="string">"请选择考场"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">checklist</span> <span class="attr">ref</span>=<span class="string">"checklist"</span> <span class="attr">:max</span>=<span class="string">"2"</span>&gt;</span><span class="tag">&lt;/<span class="name">checklist</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">import</span> checklist <span class="keyword">from</span> <span class="string">'@components/checklist/checklist'</span></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    <span class="attr">methods</span>: &#123;</div><div class="line">      openChecklist () &#123;</div><div class="line">        <span class="keyword">this</span>.$refs[<span class="string">'checklist'</span>].show()</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">components</span>: &#123; checklist &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>现在的效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist-show.gif"></div>

<h3 id="4-2-隐藏组件"><a href="#4-2-隐藏组件" class="headerlink" title="4.2 隐藏组件"></a>4.2 隐藏组件</h3><p>做好了显示那隐藏就很简单了，点击取消隐藏组件，动画会原路返回，只需要为取消设置一下<code>isOpen = false</code>或者调用<code>hide</code>方法即可。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"cancel"</span> @<span class="attr">click</span>=<span class="string">"hide"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>选择考场<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"confirm"</span>&gt;</span>完成<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>现在效果如下</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist-hide.gif"></div>

<h3 id="4-3-添加蒙层"><a href="#4-3-添加蒙层" class="headerlink" title="4.3 添加蒙层"></a>4.3 添加蒙层</h3><p>为了使蒙层能够覆盖整个页面，还不得不为DOM结构做一下调整<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cl-checklist"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checklist"</span> <span class="attr">:class</span>=<span class="string">"&#123;'show': isOpen&#125;"</span>&gt;</span></div><div class="line">        ... ...</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--蒙层--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"checklist-overlay"</span>  <span class="attr">v-if</span>=<span class="string">"isOpen"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>.checklist-overlay</code>的CSS如下<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.checklist-overlay</span>&#123;</div><div class="line">  <span class="attribute">position</span>: fixed;</div><div class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">z-index</span>: <span class="number">1000</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0, 0, 0, .5);</div><div class="line">  <span class="attribute">transition</span>: all .<span class="number">5s</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>对应的，DOM结构调整后，最外层的样式也要改一下<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.cl-checklist</span>&#123;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.checklist</span>&#123;</div><div class="line">    <span class="attribute">position</span>: fixed;</div><div class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">z-index</span>: <span class="number">2000</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">    <span class="attribute">-webkit-transition</span>: all .<span class="number">5s</span>;</div><div class="line">    <span class="attribute">transition</span>: all .<span class="number">5s</span>;</div><div class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">translateY</span>(100%);</div><div class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(100%);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>特别注意，为<code>.checklist</code>增加了白色背景和<code>z-index:2000</code>，现在的效果如下</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/checklist-mengceng.gif"></div>

<p>当然了，你也可以让点击蒙层的时候也可以隐藏组件，直接给蒙层绑定一个单击事件<code>@click = &quot;hide&quot;</code>即可。</p>
<h3 id="4-4-移动端input输入框阻止弹起手机虚拟键盘"><a href="#4-4-移动端input输入框阻止弹起手机虚拟键盘" class="headerlink" title="4.4 移动端input输入框阻止弹起手机虚拟键盘"></a>4.4 移动端input输入框阻止弹起手机虚拟键盘</h3><p>在移动端，input会默认触发手机的虚拟键盘，如何阻止手机虚拟键盘弹起呢？目前我试过有两个方案，一个是给input添加<code>readonly</code>属性,另一个就是在input事件处理方法前面添加一句<code>document.activeElement.blur()</code>。关于这个问题的详细可以阅读我的另一篇博客<a href="https://dunizb.com/2017/09/24/disable-the-phone-virtual-keyboard-up/">《小技巧|H5禁止手机虚拟键盘弹出》</a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">methods: &#123;</div><div class="line">   show () &#123;</div><div class="line">      <span class="built_in">document</span>.activeElement.blur()</div><div class="line">      <span class="keyword">this</span>.isOpen = <span class="literal">true</span></div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="第五步：数据渲染和向父组件传递事件"><a href="#第五步：数据渲染和向父组件传递事件" class="headerlink" title="第五步：数据渲染和向父组件传递事件"></a>第五步：数据渲染和向父组件传递事件</h2><p>此文中子组件就是 checklist.vue ，父组件就是 demo.vue</p>
<h3 id="5-1-数据渲染"><a href="#5-1-数据渲染" class="headerlink" title="5.1 数据渲染"></a>5.1 数据渲染</h3><p>前面我们的数据都是写死的，现在我们来动态渲染数据，也就是循环数据了。从父组件传递数据，在子组件中接收，还得使用 Props，前面我们定义了一个 <code>max</code> 属性，用来控制最多选择几项，我们再添加一个 Props 属性，取名为 <code>dataList</code>，这是一个数组类型，并且是必须的<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">props: &#123;</div><div class="line">  <span class="attr">max</span>: &#123;</div><div class="line">      <span class="attr">type</span>: <span class="built_in">Number</span>,</div><div class="line">       <span class="attr">default</span>: <span class="number">0</span></div><div class="line">   &#125;,</div><div class="line">  <span class="attr">dataList</span>: &#123;</div><div class="line">      <span class="attr">type</span>: <span class="built_in">Array</span>,</div><div class="line">      <span class="attr">require</span>: <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在组件中传递这个 Props ，需要<strong>注意</strong>的就是，由于 HTML 特性不区分大小写，当使用 DOM 模板时，驼峰命名的 props 名称要转为短横线分隔符命名。不能<code>dataList</code>在组件中必须使用中划线，变成<code>data-list</code> 形式。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">checklist</span> <span class="attr">ref</span>=<span class="string">"checklist"</span> <span class="attr">:data-list</span>=<span class="string">"data"</span> <span class="attr">:max</span>=<span class="string">"2"</span>&gt;</span><span class="tag">&lt;/<span class="name">checklist</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>定义 <code>data</code> 数据，这里的数据应该是从后端接口中来的，这里我就模拟一下数据了<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">data () &#123;</div><div class="line">   <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">data</span>: [&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第07考点马路'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'101'</span>,</div><div class="line">            <span class="attr">address</span>: <span class="string">'上海市宝山区宝安公路2009号'</span></div><div class="line">          &#125;,&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第08考点沪松公路'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'102'</span>,</div><div class="line">            <span class="attr">address</span>: <span class="string">'上海市闵行区沪松公路565弄128号'</span></div><div class="line">          &#125;,&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第09考点七宝'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'103'</span>,</div><div class="line">            <span class="attr">address</span>: <span class="string">'上海市闵行区沪松公路200号'</span></div><div class="line">          &#125;,&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第09考点世纪公园世纪公园'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'104'</span>,</div><div class="line">            <span class="attr">address</span>: <span class="string">''</span></div><div class="line">          &#125;,&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第09考点世纪公园'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'105'</span>,</div><div class="line">            <span class="attr">address</span>: <span class="string">'上海市浦东新区世纪大道200号'</span></div><div class="line">          &#125;,&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第09考点哈哈哈哈'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'107'</span></div><div class="line">          &#125;,&#123;</div><div class="line">            <span class="attr">label</span>: <span class="string">'科目二第09考点合川路地铁站'</span>,</div><div class="line">            <span class="attr">value</span>: <span class="string">'106'</span>,</div><div class="line">            <span class="attr">address</span>: <span class="string">'上海市合川路地铁站2号出口'</span></div><div class="line">          &#125;]</div><div class="line">     &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>最后就是渲染了，回到 checklist.vue 中，把 <code>v-for</code> 补上就行了<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span> <span class="attr">ref</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in dataList"</span> <span class="attr">class</span>=<span class="string">"line-wrapper"</span> <span class="attr">:data-val</span>=<span class="string">"item.value"</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">"index"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&#123;&#123;item.label&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">             <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span> <span class="attr">v-if</span>=<span class="string">"item.address"</span>&gt;</span>&#123;&#123;item.address&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">       <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">:id</span>=<span class="string">"index"</span> @<span class="attr">click</span>=<span class="string">"selectedItem($event)"</span></span></div><div class="line">             <span class="attr">v-model</span>=<span class="string">"checkboxValue"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">:value</span>=<span class="string">"item.value"</span>&gt;</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>需要注意的就是<strong>第 3 行</strong>和<strong>第 10 行</strong>，<code>for</code>的值和<code>id</code>的值必须一致，这里最好是使用<code>v-for</code>的<code>index</code>，当然了，也可以用<code>item.label</code>或<code>item.value</code>，但不推荐这样做。</p>
<h3 id="5-2-组件通信与自定义事件"><a href="#5-2-组件通信与自定义事件" class="headerlink" title="5.2 组件通信与自定义事件"></a>5.2 组件通信与自定义事件</h3><p>最后的最后，就是该处理点击“完成”后把选中的值传递给父页面了。我们已经知道从父组件向子组件通信，通过 props 传递数据就可以了，当子组件需要向父组件传递数据时，就需要用到自定义事件。v-on 指令除了可以监听 DOM 事件外，还可以用于组件之间额自定义事件</p>
<p>在 Vue.js 中子组件使用 <code>$emit()</code> 来触发事件，父组件使用 <code>$on()</code> 来监听子组件的事件。父组件也可以直接在子组件的自定义标签上使用 v-on 来监听子组件触发的自定义事件。</p>
<p>我们给确定使用<code>@click</code>按钮绑定一个方法，叫<code>onConfirm</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"topbar"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"cancel"</span> @<span class="attr">click</span>=<span class="string">"hide"</span>&gt;</span>取消<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>选择考场<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"confirm"</span> @<span class="attr">click</span>=<span class="string">"onConfirm"</span>&gt;</span>完成<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>我们需要传递什么给父组件？选中的值，这个值应该包含一个考场 value 值（也就是考场的id），选中的考场名称，或许还需要考场的地址，我们可以把这几个值使用<code>|</code>符号连接这几个值一起放到单选框的 value 里面<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"list"</span> <span class="attr">ref</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in dataList"</span> <span class="attr">class</span>=<span class="string">"line-wrapper"</span> <span class="attr">:data-val</span>=<span class="string">"item.label + '|' + item.value"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">"index"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"l"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&#123;&#123;item.label&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"address"</span> <span class="attr">v-if</span>=<span class="string">"item.address"</span>&gt;</span>&#123;&#123;item.address&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"r"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">:id</span>=<span class="string">"index"</span> @<span class="attr">click</span>=<span class="string">"selectedItem($event)"</span></span></div><div class="line">                <span class="attr">v-model</span>=<span class="string">"checkboxValue"</span> <span class="attr">style</span>=<span class="string">"display:none"</span> <span class="attr">:value</span>=<span class="string">"item.label + '|' + item.value"</span>&gt;</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>注意：</strong>第 2 行的 data-val 要跟 单选框的 value 值保持一致，因为接下来的 JS 逻辑需要用到它来和单选框的 value 比较，我们来实现 onConfirm() 方法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">onConfirm () &#123;</div><div class="line">    <span class="keyword">this</span>.isOpen = <span class="literal">false</span></div><div class="line">    <span class="keyword">const</span> checkboxValue = <span class="keyword">this</span>.checkboxValue</div><div class="line">    <span class="keyword">const</span> res = []</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; checkboxValue.length; i++) &#123;</div><div class="line">        <span class="keyword">const</span> resObj = &#123;&#125;</div><div class="line">        <span class="keyword">const</span> item = checkboxValue[i].split(<span class="string">'|'</span>)</div><div class="line">        resObj.label = item[<span class="number">0</span>]</div><div class="line">        resObj.value = item[<span class="number">1</span>]</div><div class="line">        res.push(resObj)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">this</span>.$emit(<span class="string">'on-change'</span>, res)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在方法中，首选取得<code>checkboxValue</code>的值，然后分别取出其中的value、label 和 address 三个部分放到一个对象resObj 中，再放到 res 数组中，最后把这个数组对象作为 on-change 事件的返回值参数。</p>
<p>在父组件的子组件标签上我们用 <code>@on-change</code> 来接收<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">checklist</span> <span class="attr">ref</span>=<span class="string">"checklist"</span></span></div><div class="line">               <span class="attr">:data-list</span>=<span class="string">"data"</span></div><div class="line">               <span class="attr">:max</span>=<span class="string">"2"</span> @<span class="attr">on-change</span>=<span class="string">"changeKaochangValue"</span>&gt;<span class="tag">&lt;/<span class="name">checklist</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在父组件的 data 选项中定义一个<code>kaochangVal</code>属性来接收，然后把选中的考场名称打印出来<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">"(item, index) in kaochangVal"</span>&gt;</span>&#123;&#123;item.label&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>changeKaochangValue 方法<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">changeKaochangValue (val) &#123;</div><div class="line">    <span class="keyword">this</span>.kaochangVal = val</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>现在的效果如下：</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/emit.gif"></div>

<p>至此，这个 Checklist 组件算是完成了。</p>
<h2 id="第六步：扩展和完善"><a href="#第六步：扩展和完善" class="headerlink" title="第六步：扩展和完善"></a>第六步：扩展和完善</h2><h3 id="设置选框在左边"><a href="#设置选框在左边" class="headerlink" title="设置选框在左边"></a>设置选框在左边</h3><p>考虑通用性，假如需求需要 CheckBox 框在左边呢？这个问题其实很好解决，因为我们使用 Flexbox 布局，天然支持，只需要多加一句样式即可。这个特性应该是可以用户设置的，也就是得弄一个 props 属性来支持。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">props : &#123;</div><div class="line">  <span class="attr">checkboxLeft</span>: &#123;</div><div class="line">    <span class="attr">type</span>: Booolean,</div><div class="line">    <span class="attr">default</span>: <span class="literal">false</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>定义一个 checkboxLeft 属性，默认为 false 也就是 默认 checkbox 在右边，只有用户显示传递改值为 true 时 checkbox 才在左边。</p>
<p>前面说只需要加一个样式就可以让 checkbox 在左边了，为 <code>.line</code> 元素设置一个样式 class ,然后通过 checkboxLeft 这个 props 来动态绑定 class<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.list</span> <span class="selector-class">.line</span><span class="selector-class">.checkbox-left</span>&#123;</div><div class="line">    <span class="attribute">flex-direction</span>: row-reverse;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">:for</span>=<span class="string">"index"</span> <span class="attr">class</span>=<span class="string">"line border-1px"</span> <span class="attr">:class</span>=<span class="string">"&#123;'checkbox-left': checkboxLeft&#125;"</span>&gt;</span></div><div class="line">...</div></pre></td></tr></table></figure>
<p>熟悉 Flexbox 的同学应该知道，<code>flex-direction</code>是控制布局的方向，<code>row-reverse</code>就是倒序的意思，原来是 12 排列，row-reverse 后就变成 21 排列了。</p>
<p>在组件上（demo.vue）设置<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">checklist</span> <span class="attr">ref</span>=<span class="string">"checklist"</span></span></div><div class="line">               <span class="attr">:data-list</span>=<span class="string">"data"</span></div><div class="line">               <span class="attr">:max</span>=<span class="string">"2"</span></div><div class="line">               <span class="attr">:checkbox-left</span>=<span class="string">"true"</span></div><div class="line">               @<span class="attr">on-change</span>=<span class="string">"changeKaochangValue"</span>&gt;<span class="tag">&lt;/<span class="name">checklist</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>显示设置 props 的<code>checkboxLeft</code> 为 true 即可</p>
<div align="center"><img width="320" src="http://dunizb.b0.upaiyun.com/article/201711/vue-checklist/10.png"></div>

<h3 id="还可以做点什么呢？"><a href="#还可以做点什么呢？" class="headerlink" title="还可以做点什么呢？"></a>还可以做点什么呢？</h3><p>大家可以扩展一下…</p>
<hr>
<p><a href="https://github.com/dunizb/vue-components/tree/master/src/checklist" target="_blank" rel="external">完整源码</a></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/11/18/Vue-checklist-components/">Vue.js新手教学|如何写一个Checklist组件</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">Dunizb</a></p>
        <p><span>发布时间:</span>2017-11-18, 23:06:45</p>
        <p><span>最后更新:</span>2017-11-30, 12:12:11</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/11/18/Vue-checklist-components/" title="Vue.js新手教学|如何写一个Checklist组件">http://dunizb.com/2017/11/18/Vue-checklist-components/</a>
            <span class="copy-path" data-clipboard-text="原文: http://dunizb.com/2017/11/18/Vue-checklist-components/　　作者: Dunizb" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2017/10/16/erdua/">
                    小技巧|移动端网页调试神器Eruda使用技巧
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2017/11/29/2017云南旅旅行/">
                    年终卷|2017云南旅行回忆录
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前置知识"><span class="toc-number">1.</span> <span class="toc-text">前置知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是Checklist"><span class="toc-number">2.</span> <span class="toc-text">什么是Checklist</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第零步：分析与准备"><span class="toc-number">3.</span> <span class="toc-text">第零步：分析与准备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0-1-业务需求和功能分析"><span class="toc-number">3.1.</span> <span class="toc-text">0.1 业务需求和功能分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0-2-规划API"><span class="toc-number">3.2.</span> <span class="toc-text">0.2 规划API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0-3-初始化项目"><span class="toc-number">3.3.</span> <span class="toc-text">0.3 初始化项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第一步：实现组件骨架和基础结构"><span class="toc-number">4.</span> <span class="toc-text">第一步：实现组件骨架和基础结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-实现基本骨架"><span class="toc-number">4.1.</span> <span class="toc-text">1.1 实现基本骨架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-实现topbar"><span class="toc-number">4.2.</span> <span class="toc-text">1.2 实现topbar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-实现操作提示栏"><span class="toc-number">4.3.</span> <span class="toc-text">1.3 实现操作提示栏</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第二步：实现list列表结构"><span class="toc-number">5.</span> <span class="toc-text">第二步：实现list列表结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-实现基本骨架"><span class="toc-number">5.1.</span> <span class="toc-text">2.1 实现基本骨架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-实现checkbox选框"><span class="toc-number">5.2.</span> <span class="toc-text">2.2 实现checkbox选框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-地址信息前面的小图标"><span class="toc-number">5.3.</span> <span class="toc-text">2.3 地址信息前面的小图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-适配移动端1像素边框"><span class="toc-number">5.4.</span> <span class="toc-text">2.4 适配移动端1像素边框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-列表滚动"><span class="toc-number">5.5.</span> <span class="toc-text">2.5 列表滚动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第三步：实现选择CheckBox的交互功能"><span class="toc-number">6.</span> <span class="toc-text">第三步：实现选择CheckBox的交互功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-实现原理与v-model"><span class="toc-number">6.1.</span> <span class="toc-text">3.1 实现原理与v-model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-加个选中样式"><span class="toc-number">6.2.</span> <span class="toc-text">3.2 加个选中样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-最多可选择几项"><span class="toc-number">6.3.</span> <span class="toc-text">3.3 最多可选择几项</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-1-使用-props-传递数据"><span class="toc-number">6.3.1.</span> <span class="toc-text">3.3.1 使用 props 传递数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-2-Watch选项、-refs的使用"><span class="toc-number">6.3.2.</span> <span class="toc-text">3.3.2 Watch选项、$refs的使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第四步：组件显示隐藏"><span class="toc-number">7.</span> <span class="toc-text">第四步：组件显示隐藏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-显示组件"><span class="toc-number">7.1.</span> <span class="toc-text">4.1 显示组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-隐藏组件"><span class="toc-number">7.2.</span> <span class="toc-text">4.2 隐藏组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-添加蒙层"><span class="toc-number">7.3.</span> <span class="toc-text">4.3 添加蒙层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-移动端input输入框阻止弹起手机虚拟键盘"><span class="toc-number">7.4.</span> <span class="toc-text">4.4 移动端input输入框阻止弹起手机虚拟键盘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第五步：数据渲染和向父组件传递事件"><span class="toc-number">8.</span> <span class="toc-text">第五步：数据渲染和向父组件传递事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-数据渲染"><span class="toc-number">8.1.</span> <span class="toc-text">5.1 数据渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-组件通信与自定义事件"><span class="toc-number">8.2.</span> <span class="toc-text">5.2 组件通信与自定义事件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第六步：扩展和完善"><span class="toc-number">9.</span> <span class="toc-text">第六步：扩展和完善</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#设置选框在左边"><span class="toc-number">9.1.</span> <span class="toc-text">设置选框在左边</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#还可以做点什么呢？"><span class="toc-number">9.2.</span> <span class="toc-text">还可以做点什么呢？</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"Vue.js新手教学|如何写一个Checklist组件　| Dunizb，张兵的个人技术博客　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
        <section class="youyan" id="comments">
    <script>
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = 'http://v2.uyan.cc/code/uyan.js?uid=1728932';
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>

    <div id="uyan_frame"></div>
</section>
    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/10/16/erdua/" title="上一篇: 小技巧|移动端网页调试神器Eruda使用技巧">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2017/11/29/2017云南旅旅行/" title="下一篇: 年终卷|2017云南旅行回忆录">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/11/29/2017云南旅旅行/">年终卷|2017云南旅行回忆录</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/Vue-checklist-components/">Vue.js新手教学|如何写一个Checklist组件</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/16/erdua/">小技巧|移动端网页调试神器Eruda使用技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/09/intelligent-age-reading/">和我一起读书|吴军《智能时代》笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/24/disable-the-phone-virtual-keyboard-up/">小技巧|H5禁止手机虚拟键盘弹出</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/17/text-align-justify/">小技巧|CSS如何实现文字两端对齐</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/02/My-TO-DO-application-practice/">我的TO-DO应用实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/02/成都-俗人言/">成都·俗人言</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/11/How-to-do-the-program-needs-analysis-and-design/">如何做程序的需求分析和设计？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/08/JS-in-the-typeof-and-type-judgment/">JS中的typeof和类型判断</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/06/js-String-toString-valueOf/">JS的String()、toString()、valueOf()的一些隐秘特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/27/user-experience-design-and-evaluation/">用户体验设计及评判</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/24/softeware-test-know-how-much/">程序员，软件测试知多少？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/21/bug-report/">你会靠谱的进行(Bug)错误报告吗？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/Vue-js-api-router-split/">Vue.js项目API、Router配置拆分实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/19/Vue.js动态组件解析/">Vue.js动态组件解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/19/Vue.js开发常见问题解析/">Vue.js开发常见问题解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/14/锤子坚果Pro细红线版开箱及使用体验/">锤子坚果Pro细红线版开箱及使用体验</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/22/《她理财·蜜财周刊》怎样开源怎样花钱/">《她理财·蜜财周刊》怎样开源怎样花钱</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/31/《Web全栈工程师的自我修养》浓缩笔记（下）/">《Web全栈工程师的自我修养》浓缩笔记（下）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/16/《Web全栈工程师的自我修养》浓缩笔记（上）/">《Web全栈工程师的自我修养》浓缩笔记（上）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/12/响应式图片实战/">响应式图片实战</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/13/如何正确高效的使用群聊？/">如何正确高效的使用群聊？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/13/Vue.js常用开发知识简要入门(三)/">Vue.js常用开发知识简要入门（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/18/Vue.js常用开发知识简要入门(一)/">Vue.js常用开发知识简要入门（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/01/使用SpringMVC-Mybatis搭建高性能安全站点/">使用SpringMVC+Mybatis搭建高性能安全站点</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/25/JavaScript面向对象核心知识归纳/">JavaScript面向对象核心知识归纳</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/10/零碎笔记：移动Web特别样式处理/">零碎笔记：移动Web特别样式处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/08/零碎笔记：浏览器访问一个网站所经历的步骤/">零碎笔记：浏览器访问一个网站所经历的步骤</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/06/剖析简易计算器带你入门微信小程序开发/">剖析简易计算器带你入门微信小程序开发</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/24/纯HTML+CSS+JavaScript编写的计算器应用/">纯HTML+CSS+JavaScript编写的计算器应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/19/进击JavaScript之（五）原型与继承/">进击JavaScript之（五）原型与继承</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/进击JavaScript之（四）玩转递归与数列/">进击JavaScript之（四）玩转递归与数列</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/28/进击JavaScript之（三）玩转闭包/">进击JavaScript之（三）玩转闭包</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/进击JavaScript之（二）词法作用域与作用域链/">进击JavaScript之（二）词法作用域与作用域链</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/09/进击JavaScript之（一）变量声明提升/">进击JavaScript之（一）变量声明提升</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/04/HTML5-VideoAPI，打造自己的Web视频播放器/">HTML5 VideoAPI，打造自己的Web视频播放器</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/20/CSS3聊天气泡框以及inherit、currentColor关键字/">CSS3聊天气泡框以及inherit、currentColor关键字</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/15/书写高质量jQuery代码的12条经验/">书写高质量jQuery代码的12条经验</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/07/模拟JavaScript的Array.sort()方法/">模拟JavaScript的Array.sort()方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/04/jQuery的三组基本动画与自定义动画总结/">jQuery的三组基本动画与自定义动画总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/15/JavaScript的“&&”与“||”操作符总结/">JavaScript的“&&”与“||”操作符总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/11/计算机的三大原则与计算机的进化/">计算机的三大原则与计算机的进化</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/26/如何在Sublime-Text中添加代码片段/">如何在Sublime Text中添加代码片段</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/14/CSS行高(line-height)及文本垂直居中原理/">CSS行高(line-height)及文本垂直居中原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/13/windows自带画板工具使用技巧/">windows自带画板工具使用技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/08/为什么你应该从现在开始使用云笔记？/">为什么你应该从现在开始使用云笔记？</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/01/JavaScript的Number类型详解/">JavaScript的Number类型详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/28/GitHub中Issue的使用/">GitHub中Issue的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/18/小技巧！在GitHub中查看分支差别/">小技巧！在GitHub中查看分支差别</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/14/GitHub中Graphs和Settings详解/">GitHub中Graphs和Settings详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/GitHub中的Pull-Request和Pulse详解/">GitHub中的Pull Request和Pulse详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/12/Do-you-know-what-you-mean-on-GitHub-com/">GitHub.com上的那些东西你都知道什么意思吗？</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/02/《如何阅读一本书》之公正的评断一本书/">《如何阅读一本书》之公正的评断一本书</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/31/《如何阅读一本书》之主题阅读精华摘要/">《如何阅读一本书》之主题阅读精华摘要</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/28/《如何阅读一本书》之如何透视一本书/">《如何阅读一本书》之如何透视一本书</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/26/《如何阅读一本书》之阅读一本书的四个层次/">《如何阅读一本书》之阅读一本书的四个层次</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/24/主动选择与方法论/">主动选择与方法论</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/24/《我们怎样读书》之为什么要学，怎么学/">《我们怎样读书》之为什么要学，怎么学</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/18/《我们怎样读书》之为学与做人/">《我们怎样读书》之为学与做人</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/20/Sublime-Text3插件安装图文教程/">Sublime Text3插件安装图文教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/31/LESS-CSS使用及语法入门/">LESS CSS使用及语法入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/31/Review-of-2015-年度回顾/">Review of 2015 年度回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/04/JS检测图片的宽高和Image对象/">JS检测图片的宽高和Image对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/02/JavaScript-Object-Oriented-Programming-Basics/">JavaScript面向对象程序设计基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/30/JavaScript中的数据类型回顾/">JavaScript中的数据类型回顾</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/30/强大的Http监控工具Fidder简单介绍/">强大的Http监控工具Fidder简单介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/29/jQuery-Core-Style-Guide/">jQuery Core Style Guide（规范）</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/18/Java-final修饰符梳理/">Java-final修饰符梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/07/05/Java的方法详解/">Java的方法详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/06/28/对象的this引用/">对象的this引用</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/06/27/数组与内存分配/">数组与内存分配</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/26/CSS常见问题(三)/">CSS常见问题(三)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/25/CSS的常见问题(二)/">CSS的常见问题(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/24/CSS的低权重原则—避免滥用子选择器/">CSS的低权重原则—避免滥用子选择器</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/24/CSS的常见问题(一)/">CSS的常见问题(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/18/JavaScript中的继承入门/">JavaScript中的继承入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/12/15/利用jQuery克隆对象实例/">利用jQuery克隆对象实例</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/11/08/cookie-and-session-distinction-and-contact/">Cookie和Session的区别与联系</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/10/29/Talking-about-the-development-of-AOP-development/">漫谈AOP开发之开发Spring AOP程序</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/10/28/漫谈AOP开发之谈谈AOP那些学术概念/">漫谈AOP开发之谈谈AOP那些学术概念</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/10/26/漫谈AOP开发之初探AOP及AspectJ的用法/">漫谈AOP开发之初探AOP及AspectJ的用法</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/09/06/javascript-event/">JavaScript事件探秘</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/08/24/数据库设计的一些问题/">数据库设计的一些问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/27/Spring：一切都是Bean(二)/">Spring：一切都是Bean(二)</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/24/Spring：一切都是Bean(一)/">Spring：一切都是Bean(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/13/把头像图片以二进制形式保存到数据库（Hibernate实现）/">把头像图片以二进制形式保存到数据库（Hibernate实现）</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/10/根据分组依据对Java集合元素进行分组/">根据分组依据对Java集合元素进行分组</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/09/JDBC操作数据库的元数据信息，JDBC复习(四)/">JDBC操作数据库的元数据信息，JDBC复习(四) </a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/08/JDBC的批处理、可滚动和可更新结果集，JDBC复习(三)/">JDBC的批处理、可滚动和可更新结果集，JDBC复习(三)</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/07/使用JDBC调用存储过程，JDBC复习(二)/">使用JDBC调用存储过程，JDBC复习(二) </a></li><li class="post-list-item"><a class="post-list-link" href="/2014/07/06/JDBC编程与SQL注入、大数据、事物处理，JDBC复习(一)/">JDBC编程与SQL注入、大数据、事物处理，JDBC复习(一) </a></li><li class="post-list-item"><a class="post-list-link" href="/2014/06/24/localhost-and-ip/">localhost、127.0.0.1和本机ip三者的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/04/16/JavaScript-this/">JavaScript中的this妙用</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/04/09/使用POI组件导出数据为Excel文件/">使用POI组件导出数据为Excel文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/28/Tomcat-study-notes/">Tomcat学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/08/Struts2-xml-result-in-the-transmission-of-multiple-parameters/">Struts2.xml的result里传多个参数</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/07/Java-io-FTP-FileZill-Server设置/">Java I/O FTP同步代码及FileZilla Server设置</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/11/15/使用JXL组件导入Excel文件数据到数据库/">使用JXL组件导入Excel文件数据到数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/10/29/System-out-println与System-err-println的区别/">System.out.println与System.err.println的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/10/26/BigDecimal-conversion-Integer/">BigDecimal互转Integer</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/10/12/Struts2图片上传-回显、多图上传、格式控制、多图上传分别保存路径到数据库不同的列/">Struts2图片上传(回显、多图上传、格式控制、多图上传分别保存路径到数据库不同的列)</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/09/21/Struts2-view-forwarding-type-summary/">Struts2的视图转发类型总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/09/19/使用jquery-from-js-Struts2实现图片异步上传/">使用jquery.from.js+Struts2实现图片异步上传</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/08/21/Spring-IOC-依赖注入、控制反转-概念理解/">Spring IOC(依赖注入、控制反转)概念理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/08/18/String、StringBuffer、StringBuilder/">String、StringBuffer、StringBuilder的性能区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/08/14/数据库优化(一)索引及索引合理利用/">数据库优化(一)：索引及索引合理利用</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/09/08/abstract-class-and-interface/">抽象类与接口完全释疑</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/08/02/手把手教你GlassFish与Eclipse的集成安装、配置/">手把手教你GlassFish与Eclipse的集成安装、配置</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2017 Dunizb
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
    <script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
             github: ".github-widget a", 
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>